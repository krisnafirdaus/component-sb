/*! For license information please see stories-Dropdown-stories.b10c1904.iframe.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunkcomponent_sb=self.webpackChunkcomponent_sb||[]).push([[544],{"./src/stories/Dropdown.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Basic:()=>Basic,MultiSelect:()=>MultiSelect,WithMultiplePreselected:()=>WithMultiplePreselected,WithPreselectedValue:()=>WithPreselectedValue,__namedExportsOrder:()=>__namedExportsOrder,default:()=>Dropdown_stories});var jsx_runtime=__webpack_require__("./node_modules/.pnpm/next@15.1.6_@babel+core@7.26.7_react-dom@19.0.0_react@19.0.0/node_modules/next/dist/compiled/react/jsx-runtime.js"),react=__webpack_require__("./node_modules/.pnpm/next@15.1.6_@babel+core@7.26.7_react-dom@19.0.0_react@19.0.0/node_modules/next/dist/compiled/react/index.js");const mergeClasses=(...classes)=>classes.filter(((className,index,array)=>Boolean(className)&&""!==className.trim()&&array.indexOf(className)===index)).join(" ").trim();var defaultAttributes={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Icon=(0,react.forwardRef)((({color="currentColor",size=24,strokeWidth=2,absoluteStrokeWidth,className="",children,iconNode,...rest},ref)=>(0,react.createElement)("svg",{ref,...defaultAttributes,width:size,height:size,stroke:color,strokeWidth:absoluteStrokeWidth?24*Number(strokeWidth)/Number(size):strokeWidth,className:mergeClasses("lucide",className),...rest},[...iconNode.map((([tag,attrs])=>(0,react.createElement)(tag,attrs))),...Array.isArray(children)?children:[children]]))),createLucideIcon=(iconName,iconNode)=>{const Component=(0,react.forwardRef)((({className,...props},ref)=>{return(0,react.createElement)(Icon,{ref,iconNode,className:mergeClasses(`lucide-${string=iconName,string.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,className),...props});var string}));return Component.displayName=`${iconName}`,Component},Search=createLucideIcon("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),X=createLucideIcon("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),ChevronUp=createLucideIcon("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),ChevronDown=createLucideIcon("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);var react_dom=__webpack_require__("./node_modules/.pnpm/next@15.1.6_@babel+core@7.26.7_react-dom@19.0.0_react@19.0.0/node_modules/next/dist/compiled/react-dom/index.js");const Dropdown=({id,label,options,value,onChange,multiple=!1,withSearch=!0,withPortal=!0,optionLabel="label",className="",zIndex=1e3,renderOption})=>{var _containerRef_current;const[isOpen,setIsOpen]=(0,react.useState)(!1),[searchTerm,setSearchTerm]=(0,react.useState)(""),[position,setPosition]=(0,react.useState)({top:0,left:0}),containerRef=(0,react.useRef)(null),searchInputRef=(0,react.useRef)(null),menuRef=(0,react.useRef)(null);(0,react.useEffect)((()=>{if(isOpen&&containerRef.current){var _menuRef_current;const rect=containerRef.current.getBoundingClientRect(),scrollY=window.scrollY||window.pageYOffset,scrollX=window.scrollX||window.pageXOffset,spaceBelow=window.innerHeight-rect.bottom,spaceAbove=rect.top;setPosition({top:spaceBelow<260&&spaceAbove>spaceBelow?rect.top+scrollY-((null===(_menuRef_current=menuRef.current)||void 0===_menuRef_current?void 0:_menuRef_current.offsetHeight)||0)-4:rect.bottom+scrollY+4,left:rect.left+scrollX})}}),[isOpen]);const filteredOptions=options.filter((option=>String(option[optionLabel]||"").toLowerCase().includes(searchTerm.toLowerCase()))),selectedOptions=options.filter((option=>Array.isArray(value)?value.includes(option.value):option.value===value)),highlightMatch=(text,search)=>{if(!search)return text;const parts=text.split(new RegExp(`(${search})`,"gi"));return(0,jsx_runtime.jsx)("span",{children:parts.map(((part,i)=>part.toLowerCase()===search.toLowerCase()?(0,jsx_runtime.jsx)("span",{className:"bg-green-200",children:part},i):part))})},defaultRenderOption=(option,isSelected)=>(0,jsx_runtime.jsx)("div",{className:`px-4 py-3 text-sm cursor-pointer hover:bg-green-50 ${isSelected&&"bg-green-100"}`,onClick:()=>(optionValue=>{if(multiple){const currentValues=Array.isArray(value)?value:[],index=currentValues.indexOf(optionValue);onChange(-1===index?[...currentValues,optionValue]:currentValues.filter((v=>v!==optionValue)))}else onChange(optionValue),setIsOpen(!1),setSearchTerm("")})(option.value),children:highlightMatch(option[optionLabel],searchTerm)},option.value);(0,react.useEffect)((()=>{const handleClickOutside=event=>{containerRef.current&&!containerRef.current.contains(event.target)&&menuRef.current&&!menuRef.current.contains(event.target)&&(setIsOpen(!1),setSearchTerm(""))};return isOpen&&document.addEventListener("mousedown",handleClickOutside),()=>{document.removeEventListener("mousedown",handleClickOutside)}}),[isOpen]);const Menu=(0,jsx_runtime.jsxs)("div",{ref:menuRef,style:{position:"absolute",top:position.top,left:position.left,width:null===(_containerRef_current=containerRef.current)||void 0===_containerRef_current?void 0:_containerRef_current.offsetWidth,zIndex},className:"bg-white border border-gray-200 rounded-lg shadow-lg overflow-hidden",children:[withSearch&&(0,jsx_runtime.jsx)("div",{className:"p-2 border-b border-gray-200",children:(0,jsx_runtime.jsxs)("div",{className:"relative",children:[(0,jsx_runtime.jsx)(Search,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),(0,jsx_runtime.jsx)("input",{ref:searchInputRef,type:"text",className:"w-full pl-9 pr-8 py-2 text-sm border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Search...",value:searchTerm,onChange:e=>setSearchTerm(e.target.value),onClick:e=>e.stopPropagation()}),searchTerm&&(0,jsx_runtime.jsx)("button",{onClick:e=>{var _searchInputRef_current;e.stopPropagation(),setSearchTerm(""),null===(_searchInputRef_current=searchInputRef.current)||void 0===_searchInputRef_current||_searchInputRef_current.focus()},className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:(0,jsx_runtime.jsx)(X,{size:16})})]})}),(0,jsx_runtime.jsxs)("div",{className:"max-h-60 overflow-y-auto",children:[filteredOptions.map((option=>{const isSelected=Array.isArray(value)?value.includes(option.value):value===option.value;return renderOption?renderOption(option,isSelected):defaultRenderOption(option,isSelected)})),0===filteredOptions.length&&(0,jsx_runtime.jsx)("div",{className:"px-4 py-3 text-sm text-gray-500",children:"No options found"})]})]});return(0,jsx_runtime.jsxs)("div",{className:"flex items-center gap-4",children:[label&&(0,jsx_runtime.jsx)("label",{htmlFor:id,className:"text-sm font-medium text-gray-700 min-w-[100px]",children:label}),(0,jsx_runtime.jsxs)("div",{className:`relative flex-1 ${className}`,ref:containerRef,children:[(0,jsx_runtime.jsxs)("div",{id,role:"combobox","aria-expanded":isOpen,"aria-haspopup":"listbox",className:"w-full min-h-[42px] flex items-center flex-wrap gap-2 border border-gray-200 rounded-lg px-4 py-2 text-sm bg-white hover:border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent cursor-pointer",onClick:()=>setIsOpen(!isOpen),children:[(0,jsx_runtime.jsx)("div",{className:"flex-1 flex items-center flex-wrap gap-2",children:selectedOptions.length>0?(0,jsx_runtime.jsx)("div",{className:"flex flex-wrap gap-2",children:selectedOptions.map((option=>(0,jsx_runtime.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-gray-100 rounded-md",children:[option[optionLabel],(0,jsx_runtime.jsx)("button",{onClick:e=>((optionValue,e)=>{if(e.stopPropagation(),multiple){const newValue=value.filter((v=>v!==optionValue));onChange(newValue)}else onChange("")})(option.value,e),className:"p-0.5 hover:bg-gray-200 rounded-full",children:(0,jsx_runtime.jsx)(X,{size:14})})]},option.value)))}):(0,jsx_runtime.jsx)("span",{className:"text-gray-500",children:"Select..."})}),isOpen?(0,jsx_runtime.jsx)(ChevronUp,{className:"text-gray-400",size:20}):(0,jsx_runtime.jsx)(ChevronDown,{className:"text-gray-400",size:20})]}),isOpen&&(withPortal?(0,react_dom.createPortal)(Menu,document.body):Menu)]})]})};Dropdown.__docgenInfo={description:"",methods:[],displayName:"Dropdown",props:{id:{required:!1,tsType:{name:"string"},description:""},label:{required:!1,tsType:{name:"string"},description:""},options:{required:!0,tsType:{name:"Array",elements:[{name:"DropdownOption"}],raw:"DropdownOption[]"},description:""},multiple:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},withSearch:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},withPortal:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},optionLabel:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"'label'",computed:!1}},value:{required:!0,tsType:{name:"union",raw:"string | string[]",elements:[{name:"string"},{name:"Array",elements:[{name:"string"}],raw:"string[]"}]},description:""},onChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(value: string | string[]) => void",signature:{arguments:[{type:{name:"union",raw:"string | string[]",elements:[{name:"string"},{name:"Array",elements:[{name:"string"}],raw:"string[]"}]},name:"value"}],return:{name:"void"}}},description:""},className:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"''",computed:!1}},zIndex:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"1000",computed:!1}},renderOption:{required:!1,tsType:{name:"signature",type:"function",raw:"(option: DropdownOption, isSelected: boolean) => React.ReactNode",signature:{arguments:[{type:{name:"DropdownOption"},name:"option"},{type:{name:"boolean"},name:"isSelected"}],return:{name:"ReactReactNode",raw:"React.ReactNode"}}},description:""}}};var console=__webpack_require__("./node_modules/.pnpm/console-browserify@1.2.0/node_modules/console-browserify/index.js");const Dropdown_stories={title:"Components/Dropdown",component:Dropdown,parameters:{Layout:"centered"},decorators:[Story=>(0,jsx_runtime.jsx)("div",{className:"w-full max-w-3xl mx-auto h-[400px] p-4",children:(0,jsx_runtime.jsx)(Story,{})})],tags:["autodocs"]},options=[{value:"1",label:"Jakarta"},{value:"2",label:"Surabaya"},{value:"3",label:"Bandung"},{value:"4",label:"Medan"},{value:"5",label:"Semarang"},{value:"6",label:"Palembang"},{value:"7",label:"Makassar"}],InteractiveDropdown=args=>{const[value,setValue]=(0,react.useState)(args.value);return(0,jsx_runtime.jsx)(Dropdown,{...args,value,onChange:newValue=>{setValue(newValue),console.log("Value changed:",newValue)}})},Basic={render:args=>(0,jsx_runtime.jsx)(InteractiveDropdown,{...args}),args:{onChange:newValue=>{console.log("Value changed:",newValue)},label:"City",options,value:"",withSearch:!0,optionLabel:"label",multiple:!1}},MultiSelect={render:args=>(0,jsx_runtime.jsx)(InteractiveDropdown,{...args}),args:{onChange:newValue=>{console.log("Value changed:",newValue)},label:"Cities",options,value:[],withSearch:!0,optionLabel:"label",multiple:!0}},WithPreselectedValue={render:args=>(0,jsx_runtime.jsx)(InteractiveDropdown,{...args}),args:{onChange:newValue=>{console.log("Value changed:",newValue)},label:"City",options,value:"1",withSearch:!0,optionLabel:"label",multiple:!1}},WithMultiplePreselected={render:args=>(0,jsx_runtime.jsx)(InteractiveDropdown,{...args}),args:{onChange(value){console.log("Value changed:",value)},label:"Cities",options,value:["1","2"],withSearch:!0,optionLabel:"label",multiple:!0}},__namedExportsOrder=["Basic","MultiSelect","WithPreselectedValue","WithMultiplePreselected"];Basic.parameters={...Basic.parameters,docs:{...Basic.parameters?.docs,source:{originalSource:"{\n  render: args => <InteractiveDropdown {...args} />,\n  args: {\n    onChange: newValue => {\n      console.log('Value changed:', newValue);\n    },\n    label: 'City',\n    options,\n    value: '',\n    withSearch: true,\n    optionLabel: 'label',\n    multiple: false\n  }\n}",...Basic.parameters?.docs?.source}}},MultiSelect.parameters={...MultiSelect.parameters,docs:{...MultiSelect.parameters?.docs,source:{originalSource:"{\n  render: args => <InteractiveDropdown {...args} />,\n  args: {\n    onChange: newValue => {\n      console.log('Value changed:', newValue);\n    },\n    label: 'Cities',\n    options,\n    value: [],\n    withSearch: true,\n    optionLabel: 'label',\n    multiple: true\n  }\n}",...MultiSelect.parameters?.docs?.source}}},WithPreselectedValue.parameters={...WithPreselectedValue.parameters,docs:{...WithPreselectedValue.parameters?.docs,source:{originalSource:"{\n  render: args => <InteractiveDropdown {...args} />,\n  args: {\n    onChange: newValue => {\n      console.log('Value changed:', newValue);\n    },\n    label: 'City',\n    options,\n    value: '1',\n    withSearch: true,\n    optionLabel: 'label',\n    multiple: false\n  }\n}",...WithPreselectedValue.parameters?.docs?.source}}},WithMultiplePreselected.parameters={...WithMultiplePreselected.parameters,docs:{...WithMultiplePreselected.parameters?.docs,source:{originalSource:"{\n  render: args => <InteractiveDropdown {...args} />,\n  args: {\n    onChange(value) {\n      console.log('Value changed:', value);\n    },\n    label: 'Cities',\n    options,\n    value: ['1', '2'],\n    withSearch: true,\n    optionLabel: 'label',\n    multiple: true\n  }\n}",...WithMultiplePreselected.parameters?.docs?.source}}}}}]);